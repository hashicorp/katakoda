![Vault logo](./assets/Vault_Icon_FullColor.png)

> This scenario supplements the [Tokens](https://learn.hashicorp.com/vault/identity-access-management/tokens) guide.

## Overview

Tokens are the core method for authentication within Vault. Tokens can be used
directly or dynamically generated by the auth methods. Regardless, the clients
need valid tokens to interact with Vault.

There are two types of tokens: **service tokens** and **batch tokens**. The
service tokens are persisted; therefore, they can be renewed or revoked before
reaching its time-to-live (TTL). On the other hand, batch tokens are _not_
persisted. They are encrypted binary large objects (blobs) that carry enough
information for them to be used for Vault actions. Therefore, batch tokens are
extremely lightweight and scalable; however, they lack most of the flexibility
and features of service tokens.


### Service Tokens vs. Batch Tokens

As the number of machines and apps using Vault for secret management scales,
Vault must manage the growing number of client tokens. The creation of service
tokens can start affecting the Vault performance since they must be replicated
across the primary and secondary clusters. On the other hand, batch tokens are
neither persisted to disk nor live in memory, they are not a part of the data
replication process.

Depending on the use case and the performance requirements, the batch tokens
might work better than the service tokens or vice versa.

Batch tokens are designed to be lightweight with limited flexibility. The
following table highlights the difference.

|                                                                                                                           |                                          Service Tokens |                                    Batch Tokens |
| ------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------: | ----------------------------------------------: |
| Can be root tokens                                                                                                        |                                                     Yes |                                              No |
| Can create child tokens                                                                                                   |                                                     Yes |                                              No |
| Renewable                                                                                                                 |                                                     Yes |                                              No |
| Can be periodic                                                                                                           |                                                     Yes |                                              No |
| Can have explicit Max TTL                                                                                                 |                                                     Yes |                    No (always uses a fixed TTL) |
| Has accessors                                                                                                             |                                                     Yes |                                              No |
| Has Cubbyhole                                                                                                             |                                                     Yes |                                              No |
| Revoked with parent (if not orphan)                                                                                       |                                                     Yes |                                   Stops Working |
| Dynamic secrets lease assignment                                                                                          |                                                    Self |                          Parent (if not orphan) |
| Can be used across [Performance Replication](https://www.vaultproject.io/docs/enterprise/replication/index.html) clusters |                                                      No |                                             Yes |
| Creation scales with [performance standby node](/vault/operations/performance-standbys.html) count                        |                                                      No |                                             Yes |
| Cost                                                                                                                      | Heavyweight; multiple storage writes per token creation | Lightweight; no storage cost for token creation |


> This tutorial focuses on the **batch tokens**. To learn more about service
tokens, try [Vault Token
Lifecycle](https://www.katacoda.com/hashicorp/scenarios/vault-tokens) scenario.
